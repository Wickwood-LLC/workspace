services:
  replicator.manager:
    class: Drupal\workspace\ReplicatorManager
    tags:
      - { name: service_collector, tag: workspace_replicator, call: addReplicator}
  internal.replicator:
    class: Drupal\workspace\InternalReplicator
    tags:
      - {name: workspace_replicator, priority: 10}
  workspace.pointer:
    class: Drupal\workspace\WorkspacePointer
    arguments: ['@keyvalue']
  workspace.entity_type_alter:
    class: Drupal\workspace\EntityTypeAlter
    arguments: ['@multiversion.manager']
  workspace.toolbar:
    class: Drupal\workspace\Toolbar
    arguments: ['@entity_type.manager', '@workspace.manager']
  workspace.route_subscriber:
    class: Drupal\workspace\Routing\RouteSubscriber
    arguments: ['@entity.manager']
    tags:
      - { name: event_subscriber }
  paramconverter.entity_revision:
    class: Drupal\workspace\ParamConverter\EntityRevisionConverter
    arguments: ['@entity.manager']
    tags:
  workspace.workbench_moderation_subscriber:
    class: Drupal\workspace\EventSubscriber\WorkbenchModerationSubscriber
    arguments: ['@entity_type.manager', '@workspace.pointer', '@replicator.manager']
    tags:
      - { name: event_subscriber }